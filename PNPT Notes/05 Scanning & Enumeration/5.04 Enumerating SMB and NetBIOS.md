### Enumerating SMB

SMB is a file sharing protocol for network drives.  Ports 139 (NetBIOD) and 445 (SMB)

Knowing version with SMB can reveal some vulnerabilities.

`smbclient -L \\\\10.0.2.8\\` (The slashes can either be 4 in front and 2 in back, or just 2 in front.  4 in front and 2 in back preferred, personal choice).  The -L states to list out the shares found, if any.

If some shares are found....  
	&ensp;`smbclient \\\\10.0.2.8\\ADMIN$` Where ADMIN$ is the name of an interesting share found.  If you can connect, it's likely to ask for a password, try blank, it may work.

You may want to try the above on any shares found.  They may or may not let you in.

Using Metasploit modules, you can ascertain things like version number and type.  Modules like `auxiliary/scanner/smb/smb_version` can give you this sort of information.

You can also use nmap to scan SMB ports

`nmap -v -p 139,445 -oG smb.txt 192.168.50.1-254`

Nmap also has some scripts that can be used in order to further enumerate SMB.  You can search for those with the following command.

`ls -1 /usr/share/nmap/scripts/smb*`

You can also use Windows tools to enumerate the same information.

`net view \\dc01 /all`

The `net view` command here will list `/all` shares on the `\\dc01` computer.

Be sure to record any version information as this may be useful in later steps.

#### NetBIOS

Use can use a tool called `nbtscan` in order to scan for NetBIOS information.

`sudo nbtscan -r 192.168.50.0/24`

Here the `-r` option signifies that the originating UDP port as 137.