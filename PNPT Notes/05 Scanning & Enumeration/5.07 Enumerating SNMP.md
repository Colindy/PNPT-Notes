### SNMP Enumeration

Simple Network Management Protocol (SNMP)

SNMP is one of those protocols that even some network admins aren't fully familiar with and because of such, often come with default public and private community strings.  SNMPv3 until recently only supported up to DES-56, which is weak and easy to brute force.  Newer versions of SNMPv3 support AES-256.

Since SNMP is used to "Manage the Network", it's a good protocol to enumerate and gather information from.

The SNMP MIB Tree is a database containing information typically related to managing the network.  Check `https://www.ibm.com/support/knowledgecenter/ssw_aix_71/commprogramming/mib.html` to see more information on the MIB Tree.

SNMP also uses UDP so it's nmap commands are a little different.

`sudo nmap -sU --open -p 161 192.168.50.1-254`

Here we use `-sU` to scan UDP and `--open` to limit the output and only show us when the port is open.

We can probe and query SNMP values using a tool such as `snmpwalk`, as long as we know the SNMP read-only community string, which is usually "public".

`snmpwalk -c public -v1 -t 10 192.168.50.151`

Here, `-c public` is for the community string.  `-v1` is the version number (though I didn't see this anywhere).  `-t 10` sets the timeout to 10 seconds.

If we know the MIB number, we can use it in a command.

`snmpwalk -c public -v1 192.168.50.151 1.3.6.1.2.1.25.4.2.1.2` - will check currently running processes  
`snmpwalk -c public -v1 192.168.50.151 1.3.6.1.4.1.77.1.2.25` - enumerates Windows users  

 	
1.3.6.1.2.1.25.1.6.0 	System Processes  
1.3.6.1.2.1.25.4.2.1.2 	Running Programs  
1.3.6.1.2.1.25.4.2.1.4 	Processes Path  
1.3.6.1.2.1.25.2.3.1.4 	Storage Units  
1.3.6.1.2.1.25.6.3.1.2 	Software Name  
1.3.6.1.4.1.77.1.2.25 	User Accounts  
1.3.6.1.2.1.6.13.1.3 	TCP Local Ports  

These all show some of the information from `snmp` walk.  These are common Windows ones.